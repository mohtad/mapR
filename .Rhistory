devtools::load_all()
devtools::install()
KC_data$bins <- addBins(KC_data,"cust_2016_all")
toto=cuts<-bins(KC_data["cust_2016_all"],target.bins =6, minpts = 1)
toto=KC_data["cust_2016_all"]
cuts<-bins(KC_data$cust_2016_all,target.bins =6, minpts = 1)
toto=KC_data$cust_2016_all
titi="cust_2016_all"
toto=KC_data$titi
toto=KC_data$cust_2016_all
toto=KC_data["cust_2016_all"]
toto=KC_data["cust_2016_all"][1,]
toto=KC_data["cust_2016_all"][,1]
devtools::load_all()
devtools::install()
KC_data$bins <- addBins(KC_data,"cust_2016_all")
devtools::load_all()
devtools::install()
addBins(KC_data,"cust_2016_all")
devtools::load_all()
devtools::install()
KC_data$bins <- addBins(KC_data,"cust_2016_all")
View(KC_data)
zipnames <- aggregate(cbind(lon, lat) ~ id, data=KC_ZCTA[KC_ZCTA$dist_to_venue<200,], FUN=function(x)mean(range(x)))
zipnames <- aggregate(cbind(lon, lat) ~ code, data=KC_ZCTA[KC_ZCTA$dist_to_venue<200,], FUN=function(x)mean(range(x)))
KC_ZCTA.200=KC_ZCTA[KC_ZCTA$dist_to_venue<200,]
KC_ZCTA.200=KC_ZCTA[KC_ZCTA$dist_to_venue<200,]
n<-nrow(KC_ZCTA.200)
v<-numeric(n)
for(i in 1:(n-1)) {
m = i+1
for(j in m:n){
dist<-distm (c(KC_ZCTA.200[i,]$lon, KC_ZCTA.200[i,]$lat), c(KC_ZCTA.200[j,]$lon,KC_ZCTA.200[j,]$lat), fun = distHaversine)*0.000621371;
if(is.na(dist)){
print(paste(i,'-',j,'-',n))
}
if(dist<=1.5){
v[length(v)+1]<-j
}
}
}
KC_ZCTA.25=KC_ZCTA[KC_ZCTA$dist_to_venue<25,]
#zipnames <- aggregate(cbind(lon, lat) ~ code, data=KC_ZCTA[KC_ZCTA$dist_to_venue<200,], FUN=function(x)mean(range(x)))
#names(KC_zipnames)[names(KC_zipnames) == 'KC_ZCTA.INTPTLONG'] <- 'long'
#names(KC_zipnames)[names(KC_zipnames) == 'KC_ZCTA.INTPTLAT'] <- 'lat'
n<-nrow(KC_ZCTA.25)
v<-numeric(n)
for(i in 1:(n-1)) {
m = i+1
for(j in m:n){
dist<-distm (c(KC_ZCTA.25[i,]$lon, KC_ZCTA.25[i,]$lat), c(KC_ZCTA.25[j,]$lon,KC_ZCTA.25[j,]$lat), fun = distHaversine)*0.000621371;
if(is.na(dist)){
print(paste(i,'-',j,'-',n))
}
if(dist<=1.5){
v[length(v)+1]<-j
}
}
}
KC_ZCTA.25 = KC_ZCTA.25[-v,]
devtools::load_all()
devtools::install()
KC_ZCTA.25 = US_ZCTA_names(KC_ZCTA)
KC_ZCTA.25 = US_ZCTA_names(KC_ZCTA)
devtools::load_all()
devtools::install()
KC_ZCTA.25 = US_ZCTA_names(KC_ZCTA)
library(mapR)
KC_ZCTA.25 = US_ZCTA_names(KC_ZCTA)
KC_ZCTA.25 = us_zcta_names(KC_ZCTA)
View(KC_ZCTA.25)
source('~/heatmapR/Template_heatmapR_step2_20161205.R')
drv = JDBC("com.teradata.jdbc.TeraDriver","C:\\dev\\apache-tomcat-7.0.56\\lib\\terajdbc4.jar;C:\\dev\\apache-tomcat-7.0.56\\lib\\tdgssconfig.jar")
conn = dbConnect(drv,"jdbc:teradata://tdprd.dw.bizsys.tmcs","mnadjar","mnadjar")
KC_Data =dbGetQuery(conn,"SELECT
report,
postal_code as zipcode,
cust_2016_all,   	     -- 2016 Singles - All
cust_2016_new,   	-- 2016 Singles - New Customers
cust_2016_returning,  --- 2016 Singles - Returning Customers
cust_2016_reactivated   --- 2016 Singles - Reactivated Customers
FROM plasb.kc_2016_zip_report
;
")
map_center = data.frame(lon = c(-94.823686), lat = c(39.121296) )
source('~/heatmapR/Template_heatmapR_step2_20161205.R')
library(mapR)
US_ZCTA<-load_us_zcta(map_center)
Shape_US_ZCTA<-load_shape_us_zcta()
Shape_US_Roads<-load_shape_us_roads()
Shape_US_Roads<-load_shape_us_roads()
devtools::load_all()
devtools::install()
?devtools::load_all()
?devtools::load_all
devtools::load_all()
Shape_US_Roads<-load_shape_us_roads()
devtools::install()
devtools::load_all()
Shape_US_Roads<-load_shape_us_roads()
Shape_US_ZCTA<-load_shape_us_zcta()
source('~/heatmapR/Template_heatmapR_step2_20161205.R')
source('~/heatmapR/Template_heatmapR_step2_20161205.R')
source('~/heatmapR/Template_heatmapR_step2_20161205.R')
source('~/heatmapR/Template_heatmapR_step2_20161205.R')
source('~/heatmapR/Template_heatmapR_step2_20161205.R')
source('~/heatmapR/Template_heatmapR_step2_20161205.R')
source('~/heatmapR/Template_heatmapR_step2_20161205.R')
source('~/heatmapR/Template_heatmapR_step2_20161205.R')
devtools::install()
devtools::load_all()
drv = JDBC("com.teradata.jdbc.TeraDriver","C:\\dev\\apache-tomcat-7.0.56\\lib\\terajdbc4.jar;C:\\dev\\apache-tomcat-7.0.56\\lib\\tdgssconfig.jar")
conn = dbConnect(drv,"jdbc:teradata://tdprd.dw.bizsys.tmcs","mnadjar","mnadjar")
data =dbGetQuery(conn,"SELECT
report,
postal_code as zipcode,
cust_2016_all,   	     -- 2016 Singles - All
cust_2016_new,   	-- 2016 Singles - New Customers
cust_2016_returning,  --- 2016 Singles - Returning Customers
cust_2016_reactivated   --- 2016 Singles - Reactivated Customers
FROM plasb.kc_2016_zip_report
;
")
# the location of the venue
locations = data.frame(name=c("Children's Mercy Park"), lon = c(-94.823686), lat = c(39.121296) )
# project in mercator axis system
locations$mer_lon = mercator(c(locations$lon,locations$lat))[1]
locations$mer_lat = mercator(c(locations$lon,locations$lat))[2]
#
map_center = data.frame(lon = c(-94.823686), lat = c(39.121296) )
shape_zcta<-load_shape_us_zcta()
shape_roads<-load_shape_us_roads()
zcta<-load_us_zcta(map_center)
zcta_names = us_zcta_names(US_ZCTA)
dist_center<-50
legend_title<-'All Singles'
zoom<-10
p<-create_map(data, shape_zcta, shape_roads, zcta_names, map_center,  dist_center, locations, legend_title, zoom)
devtools::load_all()
devtools::install()
p<-create_map(data, shape_zcta, shape_roads, zcta_names, map_center,  dist_center, locations, legend_title, zoom)
source('~/heatmapR/Template_heatmapR_step2_20161205.R')
data_plot <- left_join(data, zcta,c("zipcode" = "code"))
data_plot <-data_plot[data_plot$dist_to_center<100,]
data_plot <- left_join(data, zcta,c("zipcode" = "code"))
data_plot <-data_plot[data_plot$dist_to_center<100,]
data_plot <- left_join(data_plot, shape_zcta,c("zipcode" = "id"))
devtools::load_all()
devtools::install()
p<-create_map(data, shape_zcta, shape_roads,zcta, zcta_names, map_center,  dist_center, locations, legend_title, zoom)
print('to')
devtools::install()
devtools::load_all()
p<-create_map(data, shape_zcta, shape_roads,zcta, zcta_names, map_center,  dist_center, locations, legend_title, zoom)
devtools::install()
devtools::load_all()
p<-create_map(data, shape_zcta, shape_roads,zcta, zcta_names, map_center,  dist_center, locations, legend_title, zoom)
mp <- openmap(c(bb_lat_top,bb_lon_left), c(bb_lat_bot,bb_lon_right), type="maptoolkit-topo", zoom = zoom)
bb_lat_top=destPoint(p = map_center, b = 0,  d = dist_lat)[2]
dist_lat = dist_center/0.000621371
dist_lon = dist_center*(16/9)/0.000621371
dist100 = (dist_center+50)/0.000621371
bb_lat_top=destPoint(p = map_center, b = 0,  d = dist_lat)[2]
bb_lat_bot=destPoint(p = map_center, b = 0,  d = -dist_lat)[2]
bb_lon_right=destPoint(p = map_center, b = 90,  d = dist_lon)[1]
bb_lon_left=destPoint(p = map_center, b = 90,  d = -dist_lon)[1]
lat_top100=destPoint(p = map_center, b = 0,  d = dist100)[2]
lat_bot100=destPoint(p = map_center, b = 0,  d = -dist100)[2]
lon_right100=destPoint(p = map_center, b = 90,  d = dist100)[1]
lon_left100=destPoint(p = map_center, b = 90,  d = -dist100)[1]
bb_mer_lat_top = mercator(c(bb_lon_left,bb_lat_top))[2]
bb_mer_lat_bot = mercator(c(bb_lon_left,bb_lat_bot))[2]
bb_mer_lon_right = mercator(c(bb_lon_right,bb_lat_top))[1]
bb_mer_lon_left = mercator(c(bb_lon_left,bb_lat_top))[1]
mer_lat_top100 = mercator(c(lon_left100,lat_top100))[2]
mer_lat_bot100 = mercator(c(lon_left100,lat_bot100))[2]
mer_lon_right100 = mercator(c(lon_right100,lat_top100))[1]
mer_lon_left100 = mercator(c(lon_left100,lat_top100))[1]
roads100 = shape_roads[shape_roads$long>=mer_lon_left100 & shape_roads$long<=mer_lon_right100 & shape_roads$lat>=mer_lat_bot100 & shape_roads$lat<=mer_lat_top100,]
zoom<-11
print('2')
zoom<-10
source('~/heatmapR/Template_heatmapR_step2_20161205.R')
mp <- openmap(c(bb_lat_top,bb_lon_left), c(bb_lat_bot,bb_lon_right), type="maptoolkit-topo", zoom = zoom)
map_longlat <- openproj(mp,projection = osm())
print('3')
p <-autoplot(map_longlat)
print('4')
p = p+ geom_polygon(data = data_plot, aes_string(x = 'lon', y = 'lat', group = 'group', fill = 'bin'),color='black',size=0.05, alpha=0.7)
p = p+ geom_path(data=roads100,size=0.5, aes(x=long,y=lat,group=group),color="steelblue4")
p = p+ scale_fill_manual(values = c("#ececec","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"))
p = p+ guides(colour = guide_legend(order = 1, title = NULL,keyheight = 0.6,keywidth = 0.6,
label.theme = element_text(size = 8, face = "bold", hjust=1, angle = 0)),
fill = guide_legend(order = 2,title = legendtitle, reverse = TRUE, keyheight = 0.6,keywidth = 0.6,
title.theme = element_text(size = 8,face = "bold", angle = 0),
label.theme = element_text(size = 8,hjust=1, angle = 0)))
p = p+ geom_point(data = locations, aes(x = mer_lon, y = mer_lat, colour = name), alpha = 1, fill = "gold", pch = 21, size = 3)
p = p+ coord_fixed(xlim = c(mer_bb_lon_left, mer_bb_lon_right),  ylim = c(mer_bb_lat_bot, mer_bb_lat_top))
p = p+ labs(x=NULL,y=NULL)
p = p+ theme(axis.text=element_blank(),axis.ticks=element_blank(),
legend.key = element_rect(colour = "transparent", fill = "transparent"),
plot.margin=unit(c(0,0,0,0),"pt"),
panel.background = element_rect(fill = "transparent",colour = NA),
plot.background = element_rect(fill = "transparent",colour = NA),
legend.background = element_rect(fill = "transparent",colour = NA))
if(distvenue == 25){
p = p+ geom_text(data=zipnames, aes(long, lat, label = id), size=2)
}
print('5')
return (p)
}
p
data$bins <- addBins(data,"cust_2016_all")
data$bin <- add_bins(data,"cust_2016_all")
source('~/heatmapR/Template_heatmapR_step2_20161205.R')
devtools::install()
devtools::load_all()
p<-create_map(data, shape_zcta, shape_roads,zcta, zcta_names, map_center,  dist_center, locations, legend_title, zoom)
devtools::install()
devtools::load_all()
p<-create_map(data, shape_zcta, shape_roads,zcta, zcta_names, map_center,  dist_center, locations, legend_title, zoom)
devtools::install()
devtools::load_all()
p<-create_map(data, shape_zcta, shape_roads,zcta, zcta_names, map_center,  dist_center, locations, legend_title, zoom)
devtools::install()
devtools::install()
p<-create_map(data, shape_zcta, shape_roads,zcta, zcta_names, map_center,  dist_center, locations, legend_title, zoom)
p
p
source('~/heatmapR/Template_heatmapR_step2_20161205.R')
drv = JDBC("com.teradata.jdbc.TeraDriver","C:\\dev\\apache-tomcat-7.0.56\\lib\\terajdbc4.jar;C:\\dev\\apache-tomcat-7.0.56\\lib\\tdgssconfig.jar")
conn = dbConnect(drv,"jdbc:teradata://tdprd.dw.bizsys.tmcs","mnadjar","mnadjar")
data =dbGetQuery(conn,"SELECT
report,
postal_code as zipcode,
cust_2016_all,   	     -- 2016 Singles - All
cust_2016_new,   	-- 2016 Singles - New Customers
cust_2016_returning,  --- 2016 Singles - Returning Customers
cust_2016_reactivated   --- 2016 Singles - Reactivated Customers
FROM plasb.kc_2016_zip_report
;
")
# the location of the venue
locations = data.frame(name=c("Children's Mercy Park"), lon = c(-94.823686), lat = c(39.121296) )
# project in mercator axis system
locations$mer_lon = mercator(c(locations$lon,locations$lat))[1]
locations$mer_lat = mercator(c(locations$lon,locations$lat))[2]
#
map_center = data.frame(lon = c(-94.823686), lat = c(39.121296) )
#
#Compute zip 'distance to' venue
#
data$bin <- add_bins(data,"cust_2016_all")
shape_zcta<-load_shape_us_zcta()
shape_roads<-load_shape_us_roads()
zcta<-load_us_zcta(map_center)
zcta_names = us_zcta_names(US_ZCTA)
dist_center<-25
legend_title<-'All Singles'
zoom<-10
p<-create_map(data, shape_zcta, shape_roads,zcta, zcta_names, map_center,  dist_center, locations, legend_title, zoom)
source('~/heatmapR/Template_heatmapR_step2_20161205.R')
#
#Pull data from Teradata
#
drv = JDBC("com.teradata.jdbc.TeraDriver","C:\\dev\\apache-tomcat-7.0.56\\lib\\terajdbc4.jar;C:\\dev\\apache-tomcat-7.0.56\\lib\\tdgssconfig.jar")
conn = dbConnect(drv,"jdbc:teradata://tdprd.dw.bizsys.tmcs","mnadjar","mnadjar")
data =dbGetQuery(conn,"SELECT
report,
postal_code as zipcode,
cust_2016_all,   	     -- 2016 Singles - All
cust_2016_new,   	-- 2016 Singles - New Customers
cust_2016_returning,  --- 2016 Singles - Returning Customers
cust_2016_reactivated   --- 2016 Singles - Reactivated Customers
FROM plasb.kc_2016_zip_report
;
")
# the location of the venue
locations = data.frame(name=c("Children's Mercy Park"), lon = c(-94.823686), lat = c(39.121296) )
# project in mercator axis system
locations$mer_lon = mercator(c(locations$lon,locations$lat))[1]
locations$mer_lat = mercator(c(locations$lon,locations$lat))[2]
#
map_center = data.frame(lon = c(-94.823686), lat = c(39.121296) )
#
#Compute zip 'distance to' venue
#
data$bin <- add_bins(data,"cust_2016_all")
shape_zcta<-load_shape_us_zcta()
shape_roads<-load_shape_us_roads()
zcta<-load_us_zcta(map_center)
zcta_names = us_zcta_names(zcta)
dist_center<-25
legend_title<-'All Singles'
zoom<-10
p<-create_map(data, shape_zcta, shape_roads,zcta, zcta_names, map_center,  dist_center, locations, legend_title, zoom)
dist_center<-26
legend_title<-'All Singles'
zoom<-10
p<-create_map(data, shape_zcta, shape_roads,zcta, zcta_names, map_center,  dist_center, locations, legend_title, zoom)
p
source('~/heatmapR/Template_heatmapR_step2_20161205.R')
source('~/heatmapR/Template_heatmapR_step2_20161205.R')
length(locations)
locations = data.frame(name=c("Children's Mercy Park", "toto"), long = c(-94.823686, -94.823686), lat = c(39.121296,39.121296) )
length(locations)
size(locations)
nrow(locations)
nrow(locations)>0
mer = apply(locations,1,function(x){
lat=as.numeric(x['lat']);
long=as.numeric(x['long']);
mer<-mercator(c(long,lat))
})
locations$mer_lat = mer[2,]
locations$mer_long = mer[1,]
rm(mer)
devtools::load_all()
devtools::install()
drv = JDBC("com.teradata.jdbc.TeraDriver","C:\\dev\\apache-tomcat-7.0.56\\lib\\terajdbc4.jar;C:\\dev\\apache-tomcat-7.0.56\\lib\\tdgssconfig.jar")
conn = dbConnect(drv,"jdbc:teradata://tdprd.dw.bizsys.tmcs","mnadjar","mnadjar")
data =dbGetQuery(conn,"SELECT
report,
postal_code as zipcode,
cust_2016_all,   	     -- 2016 Singles - All
cust_2016_new,   	-- 2016 Singles - New Customers
cust_2016_returning,  --- 2016 Singles - Returning Customers
cust_2016_reactivated   --- 2016 Singles - Reactivated Customers
FROM plasb.kc_2016_zip_report
;
")
# the location of the venue
locations = data.frame(name=c("Children's Mercy Park", "toto"), long = c(-94.823686, -94.823686), lat = c(39.121296,39.121296) )
map_center = data.frame(long = c(-94.823686), lat = c(39.121296) )
#
#Compute zip 'distance to' venue
#
data$bin <- add_bins(data,"cust_2016_all", br = c(-1,0,1,5,12,50,198), lab=c("0","1","2 to 5","6 to 12","13 to 50","51 to 198"))
shape_us_zcta_dir = "C:/Users/Mohtadi.Nadjar/heatmapR/Template/shape/zcta/us/cb_2015_us_zcta510_500k"
shape_us_zcta_filename = "cb_2015_us_zcta510_500k"
Shape_US_Roads_dir = "C:/Users/Mohtadi.Nadjar/heatmapR/Template/shape/roads/us/tl_2016_us_primaryroads"
Shape_US_Roads_filename = "tl_2016_us_primaryroads"
us_zcta_path = "C:/Users/Mohtadi.Nadjar/heatmapR/Template/zcta_coordinates/2015_Gaz_zcta_national.txt"
shape_zcta<-load_shape_us_zcta(shape_us_zcta_dir, shape_us_zcta_filename)
shape_roads<-load_shape_us_roads(Shape_US_Roads_dir, Shape_US_Roads_filename)
zcta<-load_us_zcta(us_zcta_path, map_center)
dist_center<-25
legend_title<-'All Singles'
zoom<-10
p<-create_map(data, shape_zcta, shape_roads,zcta, map_center,  dist_center, locations, legend_title, zoom)
p<-create_map(data, shape_zcta, shape_roads,zcta, map_center,  dist_center, locations, legend_title, zoom)
p
?geom_point
locations = data.frame(name=c("Children's Mercy Park", "toto", "toto2", "toto3"), long = c(-94.823686, -94.823686, -94.823686, -94.823686), lat = c(39.121296,39.121296,39.121296,39.121296) )
p<-create_map(data, shape_zcta, shape_roads,zcta, map_center,  dist_center, locations, legend_title, zoom)
p
source('~/heatmapR/Template_heatmapR_step2_20161205.R')
p
?ggplot
?geom_point
devtools::load_all()
devtools::install()
p<-create_map(data, shape_zcta, shape_roads,zcta, map_center,  dist_center, locations, legend_title, zoom)
p
?scale_fill_manual
devtools::load_all()
devtools::install()
p<-create_map(data, shape_zcta, shape_roads,zcta, map_center,  dist_center, locations, legend_title, zoom)
p
p
devtools::load_all()
devtools::install()
p<-create_map(data, shape_zcta, shape_roads,zcta, map_center,  dist_center, locations, legend_title, zoom)
p
p
devtools::load_all()
devtools::install()
p<-create_map(data, shape_zcta, shape_roads,zcta, map_center,  dist_center, locations, legend_title, zoom)
p
p
devtools::load_all()
devtools::install()
devtools::load_all()
devtools::install()
p<-create_map(data, shape_zcta, shape_roads,zcta, map_center,  dist_center, locations, legend_title, zoom)
p
p
devtools::load_all()
devtools::install()\
devtools::load_all()
devtools::install()
p<-create_map(data, shape_zcta, shape_roads,zcta, map_center,  dist_center, locations, legend_title, zoom)
p
?geom_point
devtools::load_all()
devtools::install()
p<-create_map(data, shape_zcta, shape_roads,zcta, map_center,  dist_center, locations, legend_title, zoom)
p
devtools::load_all()
devtools::install()
p<-create_map(data, shape_zcta, shape_roads,zcta, map_center,  dist_center, locations, legend_title, zoom)
p
p
devtools::load_all()
devtools::install()
devtools::load_all()
devtools::install()
drv = JDBC("com.teradata.jdbc.TeraDriver","C:\\dev\\apache-tomcat-7.0.56\\lib\\terajdbc4.jar;C:\\dev\\apache-tomcat-7.0.56\\lib\\tdgssconfig.jar")
conn = dbConnect(drv,"jdbc:teradata://tdprd.dw.bizsys.tmcs","mnadjar","mnadjar")
data =dbGetQuery(conn,"SELECT
report,
postal_code as zipcode,
cust_2016_all,   	     -- 2016 Singles - All
cust_2016_new,   	-- 2016 Singles - New Customers
cust_2016_returning,  --- 2016 Singles - Returning Customers
cust_2016_reactivated   --- 2016 Singles - Reactivated Customers
FROM plasb.kc_2016_zip_report
;
")
# the location of the venue
locations = data.frame(name=c("Children's Mercy Park", "toto", "toto2", "toto3"), long = c(-94.823686, -94.823686, -94.823686, -94.823686), lat = c(39.121296,39.121296,39.121296,39.121296) )
# project in mercator axis system
#locations$mer_long = mercator(c(locations$long,locations$lat))[1]
#locations$mer_lat = mercator(c(locations$long,locations$lat))[2]
#
map_center = data.frame(long = c(-94.823686), lat = c(39.121296) )
#
#Compute zip 'distance to' venue
#
data$bin <- add_bins(data,"cust_2016_all", br = c(-1,0,1,5,12,50,198), lab=c("0","1","2 to 5","6 to 12","13 to 50","51 to 198"))
shape_us_zcta_dir = "C:/Users/Mohtadi.Nadjar/heatmapR/Template/shape/zcta/us/cb_2015_us_zcta510_500k"
shape_us_zcta_filename = "cb_2015_us_zcta510_500k"
Shape_US_Roads_dir = "C:/Users/Mohtadi.Nadjar/heatmapR/Template/shape/roads/us/tl_2016_us_primaryroads"
Shape_US_Roads_filename = "tl_2016_us_primaryroads"
us_zcta_path = "C:/Users/Mohtadi.Nadjar/heatmapR/Template/zcta_coordinates/2015_Gaz_zcta_national.txt"
shape_zcta<-load_shape_us_zcta(shape_us_zcta_dir, shape_us_zcta_filename)
shape_roads<-load_shape_us_roads(Shape_US_Roads_dir, Shape_US_Roads_filename)
zcta<-load_us_zcta(us_zcta_path, map_center)
dist_center<-25
legend_title<-'All Singles'
zoom<-10
p<-create_map(data, shape_zcta, shape_roads,zcta, map_center,  dist_center, locations, legend_title, zoom)
p
p
p
?openmap
?osm
?openmap
?autoplot
devtools::load_all()
devtools::install()
p<-create_map(data, shape_zcta, shape_roads,zcta, map_center,  dist_center, locations, legend_title, zoom)
p
?load_all
?coord_fixed
?oord_cartesian
?coord_cartesian
devtools::load_all()
devtools::install()
p<-create_map(data, shape_zcta, shape_roads,zcta, map_center,  dist_center, locations, legend_title, zoom)
p
devtools::load_all()
devtools::install()
p<-create_map(data, shape_zcta, shape_roads,zcta, map_center,  dist_center, locations, legend_title, zoom)
p
p<-create_map(data, shape_zcta, shape_roads,zcta, map_center,  dist_center, locations, legend_title, zoom, FALSE)
p
p<-create_map(data, shape_zcta, shape_roads,zcta, map_center,  100, locations, legend_title, zoom, FALSE)
p
devtools::load_all()
devtools::install()
p<-create_map(data, shape_zcta, shape_roads,zcta, map_center,  dist_center, locations, legend_title, zoom, FALSE)
p
devtools::load_all()
devtools::install()
source('~/heatmapR/Template_heatmapR_step2_20161205.R')
devtools::load_all()
devtools::install()
color_bins<-c("#ececec","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177")
p<-create_map(data, shape_zcta, shape_roads,zcta, map_center,  dist_center, locations, legend_title, zoom, color_bins, FALSE)
p
devtools::load_all()
devtools::install()
p<-create_map(data, shape_zcta, shape_roads,zcta, map_center,  dist_center, locations, legend_title, zoom, color_bins, FALSE)
p
install.packages("foreign")
library(foreign)
file.choose()
dataset = read.spss("C:\\Users\\Mohtadi.Nadjar\\Desktop\\ICE_SHOW_v2.sav", to.data.frame=TRUE)
dataset = read.spss("C:\\Users\\Mohtadi.Nadjar\\Desktop\\ICE_SHOW_v2.sav", header = TRUE)
?read.spss
weight_age_gender = data.frame(weight = c(0.955,
1.528,
0.816,
0.929,
1.497,
0.972,
1.253,
0.883,
0.918,
1.290,
0.609,
1.045
)
)
View(weight_age_gender)
install.packages("numbers")
weight_age_gender$weight = weight_age_gender$weight*1000
library(numbers)
?mGCD
toto = mGCD(weight_age_gender$weight)
GCD(weight_age_gender$weight[1],weight_age_gender$weight[2])
